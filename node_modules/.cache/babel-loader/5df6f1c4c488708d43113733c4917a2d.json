{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Adddmin/Documents/badmintonvn2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Adddmin/Documents/badmintonvn2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/Adddmin/Documents/badmintonvn2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Adddmin/Documents/badmintonvn2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Adddmin/Documents/badmintonvn2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Adddmin/Documents/badmintonvn2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{push}from\"connected-react-router\";import*as actions from\"../../store/actions\";import'./Login.scss';import{FormattedMessage}from'react-intl';import{handleLoginApi}from'../../services/userService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleOnChangeUsername=function(event){_this.setState({username:event.target.value});console.log(event.target.value);};_this.handleOnChangePassword=function(event){_this.setState({password:event.target.value});console.log(event.target.value);};_this.handleLogin=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({errMessage:''});_context.prev=1;_context.next=4;return handleLoginApi(_this.state.username,_this.state.password);case 4:data=_context.sent;if(data&&data.errCode!==0){_this.setState({errMessage:data.message});}if(data&&data.errCode===0){_this.props.userLoginSuccess(data.user);console.log('login succeeds');}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);if(_context.t0.response){if(_context.t0.response.data){_this.setState({errMessage:_context.t0.response.data.message});}}case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));_this.handleShowHidePassword=function(){_this.setState({isShowPassword:!_this.state.isShowPassword});};_this.state={username:'',password:'',isShowPassword:false,errMessage:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"login-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 text-login\",children:\" Login \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Username \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter your username\",value:this.state.username,onChange:function onChange(event){return _this2.handleOnChangeUsername(event);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Password \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-input-password\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:this.state.isShowPassword?'text':'password',placeholder:\"Enter your password\",onChange:function onChange(event){_this2.handleOnChangePassword(event);}}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){_this2.handleShowHidePassword();},children:/*#__PURE__*/_jsx(\"i\",{class:this.state.isShowPassword?\"far fa-eye\":\"far fa-eye-slash\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",style:{color:'red'},children:this.state.errMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-login\",onClick:function onClick(){_this2.handleLogin();},children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"span\",{children:\" Forgot your password? \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center\",children:\" Or login with : \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 social-login\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-google-plus-g\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-f\"})]})]})})});}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{language:state.app.language};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{navigate:function navigate(path){return dispatch(push(path));},userLoginSuccess:function userLoginSuccess(userInfor){return dispatch(actions.userLoginSuccess(userInfor));}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/Adddmin/Documents/badmintonvn2/src/containers/Auth/Login.js"],"names":["React","Component","connect","push","actions","FormattedMessage","handleLoginApi","Login","props","handleOnChangeUsername","event","setState","username","target","value","console","log","handleOnChangePassword","password","handleLogin","errMessage","state","data","errCode","message","userLoginSuccess","user","response","handleShowHidePassword","isShowPassword","color","mapStateToProps","language","app","mapDispatchToProps","dispatch","navigate","path","userInfor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { push } from \"connected-react-router\";\r\nimport * as actions from \"../../store/actions\";\r\n\r\nimport './Login.scss';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { handleLoginApi } from '../../services/userService';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            isShowPassword: false,\r\n            errMessage: ''\r\n        }\r\n    }\r\n\r\n    handleOnChangeUsername = (event) => {\r\n        this.setState({\r\n            username: event.target.value\r\n        })\r\n        console.log(event.target.value)\r\n    }\r\n\r\n    handleOnChangePassword = (event) => {\r\n        this.setState({\r\n            password: event.target.value\r\n        })\r\n        console.log(event.target.value)\r\n    }\r\n\r\n    handleLogin = async () => {\r\n        this.setState({\r\n            errMessage: ''\r\n        })\r\n\r\n        try {\r\n            let data = await handleLoginApi(this.state.username, this.state.password);\r\n            if (data && data.errCode !== 0) {\r\n                this.setState({\r\n                    errMessage: data.message\r\n                })\r\n            }\r\n            if (data && data.errCode === 0) {\r\n                this.props.userLoginSuccess(data.user)\r\n                console.log('login succeeds')\r\n            }\r\n        } catch (error) {\r\n            if (error.response) {\r\n                if (error.response.data) {\r\n                    this.setState({\r\n                        errMessage: error.response.data.message\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    handleShowHidePassword = () => {\r\n        this.setState({\r\n            isShowPassword: !this.state.isShowPassword\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className='login-background'>\r\n                <div className='login-container'>\r\n                    <div className='login-content'>\r\n                        <div className='col-12 text-login'> Login </div>\r\n                        <div className='col-12 form-group'>\r\n                            <label> Username </label>\r\n                            <input type='text'\r\n                                className='form-control'\r\n                                placeholder='Enter your username'\r\n                                value={this.state.username}\r\n                                onChange={(event) => this.handleOnChangeUsername(event)}\r\n                            />\r\n                        </div>\r\n                        <div className='col-12 form-group'>\r\n                            <label> Password </label>\r\n                            <div className='custom-input-password'>\r\n                                <input\r\n                                    className='form-control'\r\n                                    type={this.state.isShowPassword ? 'text' : 'password'}\r\n                                    placeholder='Enter your password'\r\n                                    onChange={(event) => { this.handleOnChangePassword(event) }}\r\n                                />\r\n                                <span\r\n                                    onClick={() => { this.handleShowHidePassword() }}\r\n                                ><i class={this.state.isShowPassword ? \"far fa-eye\" : \"far fa-eye-slash\"}></i></span>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className='col-12' style={{ color: 'red' }}>\r\n                            {this.state.errMessage}\r\n                        </div>\r\n                        <div className='col-12'>\r\n                            <button className='btn-login' onClick={() => { this.handleLogin() }}>Login</button>\r\n                        </div>\r\n                        <div className='col-12'>\r\n                            <span> Forgot your password? </span>\r\n                        </div>\r\n                        <div className='col-12'>\r\n                            <span className='text-center'> Or login with : </span>\r\n\r\n                        </div>\r\n                        <div className='col-12 social-login'>\r\n                            <i className=\"fab fa-google-plus-g\"></i>\r\n                            <i className=\"fab fa-facebook-f\"></i>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        language: state.app.language\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        navigate: (path) => dispatch(push(path)),\r\n        userLoginSuccess: (userInfor) => dispatch(actions.userLoginSuccess(userInfor)),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}