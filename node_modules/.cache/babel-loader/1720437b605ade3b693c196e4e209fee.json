{"ast":null,"code":"import _classCallCheck from\"C:/Users/Adddmin/Documents/BADMINTON VN/BADMINTONVNWEB2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Adddmin/Documents/BADMINTON VN/BADMINTONVNWEB2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Adddmin/Documents/BADMINTON VN/BADMINTONVNWEB2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Adddmin/Documents/BADMINTON VN/BADMINTONVNWEB2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{connect}from'react-redux';import{Route,Switch}from'react-router-dom';import{ConnectedRouter as Router}from'connected-react-router';import{history}from'../redux';import{ToastContainer}from'react-toastify';import{userIsAuthenticated,userIsNotAuthenticated}from'../hoc/authentication';import{path}from'../utils';import Home from'../routes/Home';import Login from'../routes/Login';import Header from'./Header/Header';import System from'../routes/System';import{CustomToastCloseButton}from'../components/CustomToast';import ConfirmModal from'../components/ConfirmModal';import HomePage from'./HomePage/HomePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handlePersistorState=function(){var persistor=_this.props.persistor;var _persistor$getState=persistor.getState(),bootstrapped=_persistor$getState.bootstrapped;if(bootstrapped){if(_this.props.onBeforeLift){Promise.resolve(_this.props.onBeforeLift()).then(function(){return _this.setState({bootstrapped:true});}).catch(function(){return _this.setState({bootstrapped:true});});}else{_this.setState({bootstrapped:true});}}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.handlePersistorState();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Router,{history:history,children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(ConfirmModal,{}),this.props.isLoggedIn&&/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"span\",{className:\"content-container\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:path.HOME,exact:true,component:Home}),/*#__PURE__*/_jsx(Route,{path:path.LOGIN,component:userIsNotAuthenticated(Login)}),/*#__PURE__*/_jsx(Route,{path:path.SYSTEM,component:userIsAuthenticated(System)}),/*#__PURE__*/_jsx(Route,{path:path.HOMEPAGE,component:HomePage})]})}),/*#__PURE__*/_jsx(ToastContainer,{className:\"toast-container\",toastClassName:\"toast-item\",bodyClassName:\"toast-item-body\",autoClose:false,hideProgressBar:true,pauseOnHover:false,pauseOnFocusLoss:true,closeOnClick:false,draggable:false,closeButton:/*#__PURE__*/_jsx(CustomToastCloseButton,{})})]})})});}}]);return App;}(Component);var mapStateToProps=function mapStateToProps(state){return{started:state.app.started,isLoggedIn:state.admin.isLoggedIn};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["C:/Users/Adddmin/Documents/BADMINTON VN/BADMINTONVNWEB2/src/containers/App.js"],"names":["React","Component","Fragment","connect","Route","Switch","ConnectedRouter","Router","history","ToastContainer","userIsAuthenticated","userIsNotAuthenticated","path","Home","Login","Header","System","CustomToastCloseButton","ConfirmModal","HomePage","App","handlePersistorState","persistor","props","getState","bootstrapped","onBeforeLift","Promise","resolve","then","setState","catch","isLoggedIn","HOME","LOGIN","SYSTEM","HOMEPAGE","mapStateToProps","state","started","app","admin","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { ConnectedRouter as Router } from 'connected-react-router';\r\nimport { history } from '../redux'\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\n\r\nimport { userIsAuthenticated, userIsNotAuthenticated } from '../hoc/authentication';\r\n\r\nimport { path } from '../utils'\r\n\r\nimport Home from '../routes/Home';\r\nimport Login from '../routes/Login';\r\nimport Header from './Header/Header';\r\nimport System from '../routes/System';\r\n\r\nimport { CustomToastCloseButton } from '../components/CustomToast';\r\nimport ConfirmModal from '../components/ConfirmModal';\r\nimport HomePage from './HomePage/HomePage';\r\n\r\nclass App extends Component {\r\n\r\n    handlePersistorState = () => {\r\n        const { persistor } = this.props;\r\n        let { bootstrapped } = persistor.getState();\r\n        if (bootstrapped) {\r\n            if (this.props.onBeforeLift) {\r\n                Promise.resolve(this.props.onBeforeLift())\r\n                    .then(() => this.setState({ bootstrapped: true }))\r\n                    .catch(() => this.setState({ bootstrapped: true }));\r\n            } else {\r\n                this.setState({ bootstrapped: true });\r\n            }\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.handlePersistorState();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Router history={history}>\r\n                    <div className=\"main-container\">\r\n                        <ConfirmModal />\r\n                        {this.props.isLoggedIn && <Header />}\r\n\r\n                        <span className=\"content-container\">\r\n                            <Switch>\r\n                                <Route path={path.HOME} exact component={(Home)} />\r\n                                <Route path={path.LOGIN} component={userIsNotAuthenticated(Login)} />\r\n                                <Route path={path.SYSTEM} component={userIsAuthenticated(System)} />\r\n                                <Route path={path.HOMEPAGE} component={HomePage} />\r\n                            </Switch>\r\n                        </span>\r\n\r\n                        <ToastContainer\r\n                            className=\"toast-container\" toastClassName=\"toast-item\" bodyClassName=\"toast-item-body\"\r\n                            autoClose={false} hideProgressBar={true} pauseOnHover={false}\r\n                            pauseOnFocusLoss={true} closeOnClick={false} draggable={false}\r\n                            closeButton={<CustomToastCloseButton />}\r\n                        />\r\n                    </div>\r\n                </Router>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        started: state.app.started,\r\n        isLoggedIn: state.admin.isLoggedIn\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);"]},"metadata":{},"sourceType":"module"}